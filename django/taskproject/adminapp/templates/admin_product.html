<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-900 min-h-screen flex text-white">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-800 border-r border-gray-700 hidden md:block">
      <div class="p-6">
        <h2 class="text-xl font-semibold text-white">Admin Panel</h2>
        <p class="text-sm text-gray-400 mt-1">Welcome, Admin</p>
      </div>

      <nav class="px-4 pb-6">
        <ul class="space-y-1">
          <li>
            <a
              href="/adminapp/admin_dashboard"
              class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-700"
            >
              <span class="w-5">üè†</span> <span>Dashboard</span>
            </a>
          </li>

          <li>
            <a
              href="/adminapp/admin_product"
              class="flex items-center gap-3 p-3 rounded-lg bg-gray-700 text-white outline-none focus:outline-none focus:ring-0"
            >
              <span class="w-5">üì¶</span> <span>Products</span>
            </a>
          </li>

          <li>
            <a
              href="/adminapp/admin_notesdata"
              class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-700"
            >
              <span class="w-5">üßæ</span> <span>Notes</span>
            </a>
          </li>

          <li>
            <a
              href="/adminapp/admin_userdata"
              class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-700"
            >
              <span class="w-5">üë•</span> <span>Users</span>
            </a>
          </li>

          <li>
            <a
              href="/adminapp/adminlogout"
              class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-700"
            >
              <span class="w-5">üö™</span> <span>Logout</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <header class="mb-6 text-center">
        <h1 class="text-3xl font-bold">All Products</h1>
        <p class="text-gray-400 text-sm mt-1">Manage your product inventory</p>
      </header>

      <!-- Add Product -->
      <div class="text-right max-w-7xl mx-auto mb-4">
        <a
          href="/adminapp/admin_add_pro"
          class="bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 transition"
        >
          + Add Product
        </a>
      </div>

      <!-- Product Grid -->
      <section
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto"
      >
        {% for p in products %}
        <div
          class="bg-gray-800 rounded-xl shadow hover:shadow-xl transition p-4 border border-gray-700"
        >
          <!-- Product Image -->
          {% if p.image %}
          <img
            src="{{ p.image.url }}"
            alt="product image"
            class="w-full h-48 object-cover rounded-lg mb-4 hover:scale-105 transition"
          />
          {% else %}
          <div
            class="w-full h-48 bg-gray-700 flex items-center justify-center rounded-lg mb-4"
          >
            No Image
          </div>
          {% endif %} 

          <!-- Product Info -->
          <h3 class="text-lg font-semibold">{{ p.name }}</h3>
          <p class="text-sm text-gray-400 mt-1">
            {{ p.description|slice:":60" }}...
          </p>

          <div class="mt-3 flex justify-between items-center">
            <span class="text-indigo-400 font-bold text-lg"
              >‚Çπ{{ p.price }}</span
            >

            <div>
              <a
                href="/adminapp/view_product/{{ p.id }}"
                class="bg-blue-600 text-white px-3 py-1 text-sm rounded-md hover:bg-blue-700"
                >View</a
              >

              <a
                href="{% url 'deleteproduct' p.id %}"
                class="bg-red-600 text-white px-3 py-1 text-sm rounded-md ml-2 hover:bg-red-700"
                >Delete</a
              >
            </div>
          </div>
        </div>
        {% endfor %}
      </section>

      <footer class="mt-8 text-center text-xs text-gray-500">
        &copy; <span id="year"></span> Your Company
      </footer>

      <script>
        document.getElementById("year").textContent = new Date().getFullYear();
      </script>
    </main>
  </body>
</html>